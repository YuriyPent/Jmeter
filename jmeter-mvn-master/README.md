# A Sample JMeter-Maven Project

### To run the test

```mvn clean verify```


### To generate the HTML report

```mvn pre-site```

I request you to check [this article](http://www.testautomationguru.com/jmeter-continuous-performance-testing-jmeter-maven/) for more information.
# Plugin configuration

Suppose we do not have enough basic features Apache.JMeter and decided to use plugins.
For example, Ultimate Thread Group plugin:
* [jpgc-casutg](https://jmeter-plugins.org/?search=jpgc-casutg)
* [UltimateThreadGroup](https://jmeter-plugins.org/wiki/UltimateThreadGroup/)

Specifically, version 2.6.

The Custom Thread Group card says that you can download plugins from this group using artifact

Maven Artifact: kg.apc: jmeter-plugins-casutg: 2.6

In addition, downloading the archive
https://jmeter-plugins.org/files/packages/jpgc-casutg-2.6.zip

You can see the following structure:

    folder lib
        folder ext
            jar jmeter-plugins-casutg-2.6.jar (plugin)
            jar jmeter-plugins-manager-1.3.jar (extra load)
        jar jmeter-plugin-cmn-jmeter-0.4.jar (dependency)

Thus, the jmeter-plugins-casutg-2.6.jar plugin depends on the jmeter-plugin-cmn-jmeter-0.4.jar library, which is important to us. 
And it is distributed together with another plugin jmeter-plugins-manager-1.3.jar, which is not important for us.

The jar-file with the library says how to find it in the repository:

#### /META-INF/maven/kg.apc/jmeter-plugins-cmn-jmeter/pom.properties

#Generated by Maven
#Tue May 02 15:16:47 MSK 2017
version = 0.4
groupId = kg.apc
artifactId = jmeter-plugins-cmn-jmeter

Look for jmeter-plugin-cmn-jmeter-0.4.jar and find:

    https://repo.maven.apache.org/maven2/kg/apc/jmeter-plugins-cmn-jmeter/
        0.1
        0.2
        0.3
        0.4
        0.5
        0.6

So kg.apc: jmeter-plugins-casutg: 2.6 depends on kg.apc: jmeter-plugins-cmn-jmeterg: 0.4. But at the same time, there is a newer version of the kg.apc library in the repository: jmeter-plugins-cmn-jmeter: 0.6.

Maven Artifact: kg.apc: jmeter-plugins-cmn-jmeter: 0.6

Add the following sections to the jmeter-maven-plugin configuration section:
```xml
	<jmeterExtensions>
		<! - Custom Thread Groups nhttps://jmeter-plugins.org/?search=jpgc-casutg http://repo.maven.apache.org/maven2/kg/apc/jmeter-plugins-casutg/->
		<artifact> kg.apc: jmeter-plugins-casutg: 2.6 </ artifact>
	</jmeterExtensions>
	<testPlanLibraries>
		<! - JMeter Plugins Common Classes: http://repo.maven.apache.org/maven2/kg/apc/jmeter-plugins-cmn-jmeter/->
	<artifact> kg.apc: jmeter-plugins-cmn-jmeter: 0.6 </ artifact>
	</testPlanLibraries>
		<downloadExtensionDependencies> false </ downloadExtensionDependencies>
		<downloadLibraryDependencies> false </ downloadLibraryDependencies>
		<downloadOptionalDependencies> false </ downloadOptionalDependencies>
		<downloadJMeterDependencies> false </ downloadJMeterDependencies>
```
I.e:

    Plugin added to jmeterExtensions section
    Plugin dependencies added in testPlanLibraries section
    It is specified that all implicitly dependencies do not need to be downloaded:
        downloadExtensionDependencies = false
        downloadLibraryDependencies = false
        downloadOptionalDependencies = false
        downloadJMeterDependencies = false

then download the plugins (mvn jmeter: confure).

Thus you can add any plugins to the Apache.JMeter project.

They do not have to be stored with the project. They will always be downloaded when you need to run. And in the version control system there will be stored only an instruction to download them in the pom.xml file.
